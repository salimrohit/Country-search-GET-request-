<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Countries</title>
    <!-- bootstrap cdn -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</head>
<body style="background: url('https://images.unsplash.com/photo-1531736275454-adc48d079ce9?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');">
    <div class="container">
        <h1 class="mt-5 text-center">Country Details</h1>
        <div class="d-flex mt-4 justify-content-center">
            <input id="cname" class="form-control " type="text" placeholder="Enter country name" style="width: 50%;">
            <button onclick="search()" class="btn border shadow ms-3" type="button" >Search</button>
        </div>
        

        <div class="row">
            <div class="col-md-2"></div>
            <div class="col-md-8">
                <div id="content">
                    
            
                    <div class="text-center justify-content-center m-3">
                        <img src="" alt="" width="300px">
                    </div>

                    
    
                    
                </div>
                </div>
            <div class="col-md-2"></div>
        </div>

        


       
    </div>
</body>
<script>
    const search = async()=>{
        let countryName = cname.value  
        console.log(countryName);
        if(countryName){
            const response = await fetch(`https://restcountries.com/v3.1/name/${countryName}?fullText=true`)  //async-await property (data storage)
            /* console.log(response); */
            response.json().then((country)=>{
                /* console.log(country[0]); */
                /* official name */
                let name = country[0].name.official
                /* console.log(name); */
                /* common name */
                let cmname = country[0].name.common
                /* console.log(cmname); */
                /* capital */
                let capital = country[0].capital
                /* console.log(capital); */
                /* borders */
                let border = country[0].borders
                /* console.log(border); */
                /* google map */
                let map = country[0].maps.googleMaps
                /* console.log(map); */
                /* population */
                let population = country[0].population
                /* console.log(population); */
                /* time-zone */
                let timez = country[0].timezones
                /* console.log(timez); */
                /* continents */
                let continent = country[0].continents
                /* console.log(continent); */
                /* flag */
                let flag = country[0].flags.png
                /* console.log(flag); */                
                /* languages */
                let language = country[0].languages
                /* console.log(language); */
                nationallang = []
                for( lang in language){
                    /* console.log(lang); */
                    nationallang.push(language[lang])
                }
                /* console.log(nationallang); */
                /* currency */
                let currency = country[0].currencies
                /* console.log(curr); */   
            
                for ( curr in currency){
                    var curname = currency[curr].name
                    var cursym = currency[curr].symbol                   
                } 
                /* console.log(curname);
                console.log(cursym); */ 
                
                content.innerHTML = `<div class="text-center justify-content-center m-3">
                        <img src="${flag}" alt="" width="300px">
                    </div>
                    
                    <div class="card w-100 rounded" style="width: 18rem; background-color: transparent;">
                        <div class="col-md-12">
                            <div class="row">
                                <h3 class="card-text text-center mt-2 fw-bold mb-3">${name}</h3></div>
                            <div class="card-body col-md-12 ms-3">
                               
                            <p > <span class="fw-bold"> Capital: </span>${capital}</p>
                            <p > <span class="fw-bold"> Region: </span>${continent}</p>
                            <p > <span class="fw-bold"> Currencies:  </span>${ curname +` (`+  cursym+`)`}</p>
                            <p > <span class="fw-bold"> Languages: </span>${nationallang}</p>
                            <p > <span class="fw-bold"> Population: </span>${population}</p>
                            <p > <span class="fw-bold"> Timezones: </span>${timez}</p>   
                            <p > <span class="fw-bold"> Google maps: </span><a href="">${map}</a></p>                            
                            </div>
                        </div>
                    </div> `
            }) 
            

        }
        else{
            alert('Please enter the country name')
        }
    }
</script>
</html>

<!-- name, currency(name, symbol), capital, languages, population, flag, time-zone -->